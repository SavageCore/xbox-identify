"use strict";(self.webpackChunkxbox_identify=self.webpackChunkxbox_identify||[]).push([[678],{678:(S,m,a)=>{a.r(m),a.d(m,{HomePage:()=>E});var f=a(6895),r=a(433),p=a(3547),l=a(7579),g=a(2722),s=a(8256),_=a(1726);function v(i,n){1&i&&(s.TgZ(0,"span",24),s._uU(1,"*"),s.qZA())}function Z(i,n){1&i&&(s.TgZ(0,"div"),s._uU(1,"Date must be in format YYYY-MM-DD"),s.qZA())}function x(i,n){if(1&i&&(s.TgZ(0,"div",24),s.YNc(1,Z,2,0,"div",23),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.identifyForm.get("manufdate").errors.pattern)}}function b(i,n){1&i&&(s.TgZ(0,"span",24),s._uU(1,"*"),s.qZA())}function T(i,n){1&i&&(s.TgZ(0,"div"),s._uU(1,"Serial number must be 12 digits"),s.qZA())}function G(i,n){if(1&i&&(s.TgZ(0,"div",24),s.YNc(1,T,2,0,"div",23),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.identifyForm.get("hwsn").errors.pattern)}}function D(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.hij("Manufacturing date suggests: ",e.manufacturingGuess.join(", "),"")}}function U(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.hij("Production date suggests: ",e.productionGuess.join(", "),"")}}function y(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.hij("Video chip suggests: ",e.videoChipGuess.join(", "),"")}}function C(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.hij("BIOS version suggests: ",e.biosVersionGuess.join(", "),"")}}function A(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.AsE("SN suggests factory: ",e.factoryGuess.join(", ")," (",e.factoryName,")")}}function w(i,n){if(1&i&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.hij("DVD drive suggests: ",e.dvdDriveGuess.join(", "),"")}}function P(i,n){if(1&i&&(s.TgZ(0,"span",27)(1,"p"),s._uU(2,"It looks like your "),s.TgZ(3,"span",1),s._uU(4,"Xbox"),s.qZA(),s._uU(5),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(5),s.hij(" is one of the following revisions: ",e.possibleRevisions.join(", "),"")}}function N(i,n){if(1&i&&(s.TgZ(0,"span",28)(1,"p"),s._uU(2,"It looks like your "),s.TgZ(3,"span",1),s._uU(4,"Xbox"),s.qZA(),s._uU(5),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(5),s.hij(" is a v",e.possibleRevisions,"")}}function k(i,n){1&i&&(s.TgZ(0,"span",28),s._uU(1,"\u2714\ufe0f Good news your "),s.TgZ(2,"span",1),s._uU(3,"Xbox"),s.qZA(),s._uU(4," is not v1.6, TSOP away! \u{1f431}\u200d\u{1f4bb}"),s.qZA())}function q(i,n){if(1&i&&(s.ynx(0),s.YNc(1,P,6,1,"span",25),s.YNc(2,N,6,1,"span",26),s.YNc(3,k,5,0,"span",26),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.possibleRevisions.length>1),s.xp6(1),s.Q6J("ngIf",1==e.possibleRevisions.length),s.xp6(1),s.Q6J("ngIf",!e.possibleRevisions.includes("1.6"))}}function F(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"p"),s._uU(2,"\u274c There is a "),s.TgZ(3,"span",24),s._uU(4,"mismatch"),s.qZA(),s._uU(5),s.qZA(),s.BQk()),2&i){const e=s.oxw(2);s.xp6(5),s.hij(' between "',e.mismatchString,'": Unable to determine revision \u{1f61f}')}}function I(i,n){if(1&i&&(s.ynx(0),s.TgZ(1,"div",8)(2,"h1",0),s._uU(3,"Results"),s.qZA(),s.YNc(4,D,2,1,"p",23),s.YNc(5,U,2,1,"p",23),s.YNc(6,y,2,1,"p",23),s.YNc(7,C,2,1,"p",23),s.YNc(8,A,2,2,"p",23),s.YNc(9,w,2,1,"p",23),s._UZ(10,"br"),s.YNc(11,q,4,3,"ng-container",23),s.YNc(12,F,6,1,"ng-container",23),s.qZA(),s.BQk()),2&i){const e=s.oxw();s.xp6(4),s.Q6J("ngIf",e.manufacturingGuess),s.xp6(1),s.Q6J("ngIf",e.productionGuess),s.xp6(1),s.Q6J("ngIf",e.videoChipGuess),s.xp6(1),s.Q6J("ngIf",e.biosVersionGuess),s.xp6(1),s.Q6J("ngIf",e.factoryGuess),s.xp6(1),s.Q6J("ngIf",e.dvdDriveGuess),s.xp6(2),s.Q6J("ngIf",!e.hasError),s.xp6(1),s.Q6J("ngIf",e.hasError)}}let E=(()=>{class i{constructor(e,t){this._themeService=e,this.formBuilder=t,this.formattedMessage="",this.manufdate="",this.hwsn="",this.videochip="",this.biosv="",this.dvddrive="",this.mismatchString="",this.hasResult=!1,this.hasError=!1,this.factoryName="",this.snPattern=/^(\d{12}|\d{7} \d{5})$/,this.isoDatePattern=/^\d{4}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/,this._destroy$=new l.x,this.identifyForm=this.formBuilder.group({manufdate:["",{validators:[r.kI.required,r.kI.pattern(this.isoDatePattern)],updateOn:"blur"}],hwsn:["",{validators:[r.kI.required,r.kI.pattern(this.snPattern)],updateOn:"blur"}],videochip:[""],biosv:["unknown"],dvddrive:[""]}),this.manufacturingGuess=[],this.videoChipGuess=[],this.biosVersionGuess=[],this.factoryGuess=[],this.productionGuess=[],this.possibleRevisions=[],this.mismatch=[],this.dvdDriveGuess=[]}ngOnInit(){this._themeService.currentTheme$.pipe((0,g.R)(this._destroy$)).subscribe(e=>this.currentTheme=e),this.onChanges()}onChanges(){let e=!0;this.mismatch=[],this.identifyForm.valueChanges.subscribe(t=>{this.manufdate=t.manufdate,this.identifyForm.get("manufdate").valid&&(this.manufactureDateCheck(),this.hwsn=t.hwsn.replace(" ",""),this.identifyForm.get("hwsn").valid&&(e=!1,this.hardwareSerialNumberCheck()),this.videochip=t.videochip,this.videoChipCheck(),this.biosv=t.biosv,this.biosVersionCheck(),this.dvddrive=t.dvddrive,this.dvdDriveCheck(),!1===e&&this.checkMatches())})}manufactureDateCheck(){const e=Date.parse(this.manufdate),t=Date.parse("2001-01-01"),c=Date.parse("2002-07-31"),u=Date.parse("2002-08-01"),o=Date.parse("2003-01-31"),h=Date.parse("2003-01-01"),d=Date.parse("2003-03-31"),Y=Date.parse("2003-04-01"),M=Date.parse("2003-07-31"),H=Date.parse("2003-09-01"),O=Date.parse("2004-03-31"),V=Date.parse("2004-04-01"),J=Date.parse("2004-09-30"),j=Date.parse("2004-09-01"),Q=Date.parse("2005-08-31");e>=t&&e<=c&&(this.manufacturingGuess=["1.0"]),e>=u&&e<=o&&(this.manufacturingGuess=["1.1"]),e>=h&&e<=d&&(this.manufacturingGuess=["1.2"]),e>=Y&&e<=M&&(this.manufacturingGuess=["1.3"]),e>=H&&e<=O&&(this.manufacturingGuess=["1.4","1.5"]),e>=V&&e<=J&&(this.manufacturingGuess=["1.6"]),e>=j&&e<=Q&&(this.manufacturingGuess=["1.6b"])}hardwareSerialNumberCheck(){this.hwsn.slice(0,1),this.hwsn.slice(1,7);const c=this.hwsn.slice(7,8),u=this.hwsn.slice(8,10),o=this.hwsn.slice(10,12);this.factoryCheck(o);const h=c+u.slice(0,1);this.productionCheck(h)}videoChipCheck(){"conexant"===this.videochip&&(this.videoChipGuess=["1.0","1.1","1.2","1.3"]),"focus"===this.videochip&&(this.videoChipGuess=["1.4","1.5"]),"xcalibur"===this.videochip&&(this.videoChipGuess=["1.6"]),"unknown"===this.videochip&&(this.videoChipGuess=["?"])}biosVersionCheck(){("3944"===this.biosv||"4034"===this.biosv||"4036"===this.biosv||"4627"===this.biosv)&&(this.biosVersionGuess=["1.0"]),("4817"===this.biosv||"4972"===this.biosv)&&(this.biosVersionGuess=["1.1"]),("5101"===this.biosv||"5713"===this.biosv)&&(this.biosVersionGuess=["1.1","1.2","1.3","1.4","1.5"]),"5838"===this.biosv&&(this.biosVersionGuess=["1.6"]),"unknown"===this.biosv&&(this.biosVersionGuess=["?"])}factoryCheck(e){"02"===e&&(this.factoryGuess=["1.0","1.1"],this.factoryName="Mexico"),"03"===e&&(this.factoryGuess=["1.0"],this.factoryName="Hungary"),"05"===e&&(this.factoryGuess=["1.2","1.3","1.4","1.5","1.6"],this.factoryName="China"),"06"===e&&(this.factoryGuess=["1.2","1.3","1.4","1.5","1.6"],this.factoryName="Taiwan")}productionCheck(e){const t=["20","21","23","24","25","30","31","32","33","42"];t.includes(e)||(e=t.reduce((u,o)=>Math.abs(Number(o)-Number(e))<Math.abs(Number(u)-Number(e))?o:u),console.log("Closest yw: "+e)),this.productionGuess="20"===e||"21"===e?["1.0"]:"23"===e?["1.0","1.1"]:"24"===e||"25"===e?["1.1"]:"30"===e?["1.2"]:"31"===e||"32"===e?["1.3"]:"33"===e?["1.4","1.5"]:"42"===e?["1.6"]:"43"===e?["1.6b"]:["?"]}dvdDriveCheck(){"thomson"===this.dvddrive&&(this.dvdDriveGuess=["1.0","1.1"]),"philips"===this.dvddrive&&(this.dvdDriveGuess=["1.1","1.2","1.3","1.4","1.5","1.6","1.6b"]),"samsung"===this.dvddrive&&(this.dvdDriveGuess=["1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.6b"]),"hitachi-lg"===this.dvddrive&&(this.dvdDriveGuess=["1.6","1.6b"]),"unknown"===this.dvddrive&&(this.dvdDriveGuess=["?"])}checkMatches(){this.hasError=!1,this.mismatch=[],this.manufacturingGuess.some(o=>this.factoryGuess.includes(o))||(this.mismatch.push("factory"),this.hasError=!0),console.log("manufacturingGuess",this.manufacturingGuess),console.log("factoryGuess",this.factoryGuess);let e=this.manufacturingGuess.filter(o=>this.factoryGuess.includes(o));console.log("possiblities",e),e.some(o=>this.productionGuess.includes(o))||(this.mismatch.push("production date"),this.hasError=!0),console.log("productionGuess",this.productionGuess),e=e.filter(o=>this.productionGuess.includes(o)),console.log("possiblities",e),"unknown"!==this.videochip&&(e.some(o=>this.videoChipGuess.includes(o))||(this.mismatch.push("video chip"),this.hasError=!0),console.log("videoChipGuess",this.videoChipGuess),e=e.filter(o=>this.videoChipGuess.includes(o)),console.log("possiblities",e)),"unknown"!==this.biosv&&(e.some(o=>this.biosVersionGuess.includes(o))||(this.mismatch.push("bios version"),this.hasError=!0),console.log("biosVersionGuess",this.biosVersionGuess),e=e.filter(o=>this.biosVersionGuess.includes(o)),console.log("possiblities",e)),"unknown"!==this.dvddrive&&(e.some(o=>this.dvdDriveGuess.includes(o))||(this.mismatch.push("dvd drive"),this.hasError=!0),console.log("dvdDriveGuess",this.dvdDriveGuess),e=e.filter(o=>this.dvdDriveGuess.includes(o)),console.log("possiblities",e)),console.log("mismatch",this.mismatch),this.mismatchString=this.mismatch.join(", ").replace(/,([^,]*)$/," and $1");const t=this.manufacturingGuess.concat(this.factoryGuess,this.productionGuess,this.videoChipGuess,this.biosVersionGuess,this.dvdDriveGuess),c=t.sort((o,h)=>t.filter(d=>d===o).length-t.filter(d=>d===h).length);console.log("mostCommonGuess",c[c.length-1]),this.possibleRevisions=e,this.hasResult=!0}ngOnDestroy(){this._destroy$.complete(),this._destroy$.unsubscribe()}handleThemeChange(e){this._themeService.setTheme(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(_.f),s.Y36(r.qu))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:76,vars:14,consts:[[1,"mb-4"],[1,"text-xbox"],[3,"formGroup"],[1,"block"],["class","text-danger-600",4,"ngIf"],["formControlName","manufdate","placeholder","YYYY-MM-DD",1,"block","w-full","mt-1","form-input"],["formControlName","hwsn","placeholder","xxxxxx xxxx",1,"block","w-full","mt-1","form-input"],[1,"mt-4"],[1,"mt-2"],[1,"inline-flex","items-center"],["formControlName","videochip","type","radio","name","videochip","value","conexant",1,"form-radio"],[1,"ml-2"],[1,"inline-flex","items-center","ml-6"],["formControlName","videochip","type","radio","name","videochip","value","focus",1,"form-radio"],["formControlName","videochip","type","radio","name","videochip","value","xcalibur",1,"form-radio"],["src","assets/images/drive_determination.png","alt","DVD Drive Verification",1,"mt-2"],["formControlName","dvddrive","type","radio","name","dvddrive","value","thomson",1,"form-radio"],["formControlName","dvddrive","type","radio","name","dvddrive","value","philips",1,"form-radio"],["formControlName","dvddrive","type","radio","name","dvddrive","value","samsung",1,"form-radio"],["formControlName","dvddrive","type","radio","name","dvddrive","value","hitachi-lg",1,"form-radio"],[1,"block","mt-4"],["formControlName","biosv",1,"block","w-full","mt-1","form-select"],["value","unknown"],[4,"ngIf"],[1,"text-danger-600"],["class","text-warning-600",4,"ngIf"],["class","text-success-600",4,"ngIf"],[1,"text-warning-600"],[1,"text-success-600"]],template:function(e,t){1&e&&(s.TgZ(0,"section")(1,"h1",0),s._uU(2,"Identify your "),s.TgZ(3,"span",1),s._uU(4,"Xbox"),s.qZA(),s._uU(5," revision"),s.qZA(),s.TgZ(6,"form",2)(7,"label",3),s._uU(8," Manufacturing Date "),s.YNc(9,v,2,0,"span",4),s._UZ(10,"input",5),s.YNc(11,x,2,1,"div",4),s.qZA(),s.TgZ(12,"label",3),s._uU(13," Hardware Serial Number "),s.YNc(14,b,2,0,"span",4),s._UZ(15,"input",6),s.YNc(16,G,2,1,"div",4),s.qZA(),s.TgZ(17,"div",7),s._uU(18," Video Chip Verification "),s.TgZ(19,"div",8)(20,"label",9),s._UZ(21,"input",10),s.TgZ(22,"span",11),s._uU(23,"Conexant"),s.qZA()(),s.TgZ(24,"label",12),s._UZ(25,"input",13),s.TgZ(26,"span",11),s._uU(27,"Focus"),s.qZA()(),s.TgZ(28,"label",12),s._UZ(29,"input",14),s.TgZ(30,"span",11),s._uU(31,"Xcalibur"),s.qZA()()()(),s.TgZ(32,"div",7),s._uU(33," DVD Drive Verification "),s._UZ(34,"img",15),s.TgZ(35,"div",8)(36,"label",9),s._UZ(37,"input",16),s.TgZ(38,"span",11),s._uU(39,"Thomson"),s.qZA()(),s.TgZ(40,"label",12),s._UZ(41,"input",17),s.TgZ(42,"span",11),s._uU(43,"Philips"),s.qZA()(),s.TgZ(44,"label",12),s._UZ(45,"input",18),s.TgZ(46,"span",11),s._uU(47,"Samsung"),s.qZA()(),s.TgZ(48,"label",12),s._UZ(49,"input",19),s.TgZ(50,"span",11),s._uU(51,"Hitachi-LG"),s.qZA()()()(),s.TgZ(52,"label",20),s._uU(53," Xbox BIOS Version Number "),s.TgZ(54,"select",21)(55,"option",22),s._uU(56,"Unknown"),s.qZA(),s.TgZ(57,"option"),s._uU(58,"3944"),s.qZA(),s.TgZ(59,"option"),s._uU(60,"4034"),s.qZA(),s.TgZ(61,"option"),s._uU(62,"4036"),s.qZA(),s.TgZ(63,"option"),s._uU(64,"4627"),s.qZA(),s.TgZ(65,"option"),s._uU(66,"4817"),s.qZA(),s.TgZ(67,"option"),s._uU(68,"4972"),s.qZA(),s.TgZ(69,"option"),s._uU(70,"5101"),s.qZA(),s.TgZ(71,"option"),s._uU(72,"5713"),s.qZA(),s.TgZ(73,"option"),s._uU(74,"5838"),s.qZA()()()(),s.YNc(75,I,13,8,"ng-container",23),s.qZA()),2&e&&(s.xp6(6),s.Q6J("formGroup",t.identifyForm),s.xp6(3),s.Q6J("ngIf",t.identifyForm.get("manufdate").errors&&t.identifyForm.get("manufdate").hasError("required")),s.xp6(1),s.ekj("border-success-600",t.identifyForm.get("manufdate").dirty&&!t.identifyForm.get("hwsn").errors)("border-danger-600",t.identifyForm.get("manufdate").dirty&&t.identifyForm.get("hwsn").errors),s.xp6(1),s.Q6J("ngIf",t.identifyForm.get("manufdate").dirty&&t.identifyForm.get("manufdate").errors),s.xp6(3),s.Q6J("ngIf",t.identifyForm.get("hwsn").errors&&t.identifyForm.get("hwsn").hasError("required")),s.xp6(1),s.ekj("border-success-600",t.identifyForm.get("hwsn").dirty&&!t.identifyForm.get("hwsn").errors)("border-danger-600",t.identifyForm.get("hwsn").dirty&&t.identifyForm.get("hwsn").errors),s.xp6(1),s.Q6J("ngIf",t.identifyForm.get("hwsn").dirty&&t.identifyForm.get("hwsn").errors),s.xp6(59),s.Q6J("ngIf",t.hasResult))},dependencies:[f.ez,f.O5,p.Bz,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r._,r.JJ,r.JL,r.sg,r.u],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#000}"]}),i})()}}]);